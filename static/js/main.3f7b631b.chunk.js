(this["webpackJsonpmy-canva"]=this["webpackJsonpmy-canva"]||[]).push([[0],{12:function(t,e,n){},13:function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),c=n(5),o=n.n(c),a=(n(12),n(6)),h=n(1);function u(t,e){var n=Object(r.useRef)(),i=Object(r.useRef)([]),c=Object(r.useRef)(!1),o=Array.isArray(t);Object(r.useEffect)((function(){c.current||(c.current=!0),o?(e(t,i.current),t.forEach((function(t,e){i.current[e]=t}))):(e(t,n.current),n.current=t)}),o?t:[t])}var f=function(){var t=Object(r.useRef)(null),e=Object(r.useState)({width:30,height:30,x:10,y:120}),n=Object(h.a)(e,2),c=n[0],o=n[1],f=Object(r.useState)([{width:15,height:50,x:100,y:0},{width:15,height:50,x:100,y:220}]),s=Object(h.a)(f,2),l=s[0],w=s[1],d=Object(r.useState)(0),y=Object(h.a)(d,2),g=y[0],b=y[1],x=Object(r.useState)(!1),v=Object(h.a)(x,2),O=v[0],j=v[1],m=Object(r.useCallback)((function(t){switch(t.key){case"ArrowLeft":o((function(t){return{width:t.width,height:t.height,x:t.x-2,y:t.y}}));break;case"ArrowRight":o((function(t){return{width:t.width,height:t.height,x:t.x+2,y:t.y}}));break;case"ArrowUp":o((function(t){return{width:t.width,height:t.height,x:t.x,y:t.y-2}}));break;case"ArrowDown":o((function(t){return{width:t.width,height:t.height,x:t.x,y:t.y+2}}))}}),[]);Object(r.useEffect)((function(){return window.addEventListener("keydown",m),function(){window.removeEventListener("keydown",m)}}),[]);var k=function(t,e){var n=Object(r.useRef)();return[function(){n.current||(n.current=setInterval(t,e))},function(){clearInterval(n.current),n.current=null}]}((function(){b((function(t){return t+1}))}),20),E=Object(h.a)(k,2),p=E[0],R=E[1];return Object(r.useEffect)((function(){console.log("!!"),p()}),[]),u(g,(function(e){if(0===e||e/150%1===0){var n=t.current,r=n.width,i=n.height,c=Math.floor(181*Math.random()+20),o=Math.floor(151*Math.random()+50);w((function(t){var e=t[0].x+t[0].width<0?t.slice(2):t;return[].concat(Object(a.a)(e.map((function(t){return t.x+=-1,t}))),[{width:15,height:c,x:r,y:0},{width:15,height:i-c-o,x:r,y:c+o}])}))}else w((function(t){return(t[0].x+t[0].width<0?t.slice(2):t).map((function(t){return t.x+=-1,t}))}))})),u([c,l],(function(t){for(var e=Object(h.a)(t,2),n=e[0],r=e[1],i=n.x,c=n.x+n.width,o=n.y,a=n.y+n.height,u=0;u<r.length;u++){var f=r[u].x,s=r[u].x+r[u].width,l=r[u].y,w=r[u].y+r[u].height;a<l||o>w||c<f||i>s||j(!0)}})),u(O,(function(t){t&&(window.removeEventListener("keydown",m),R())})),Object(r.useEffect)((function(){if(t.current){var e=t.current,n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),n.fillStyle="red",n.fillRect(c.x,c.y,c.width,c.height);for(var r=0;r<l.length;r++)n.fillStyle="green",n.fillRect(l[r].x,l[r].y,l[r].width,l[r].height);n.fillStyle="black",n.font="30px Consolas",n.fillText("SCORE: "+g,20,40)}})),i.a.createElement("canvas",{ref:t,width:480,height:270,style:{border:"3px solid gray"}})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},7:function(t,e,n){t.exports=n(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.3f7b631b.chunk.js.map