(this["webpackJsonpmy-canva"]=this["webpackJsonpmy-canva"]||[]).push([[0],{12:function(t,e,n){},13:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),i=n(5),h=n.n(i),u=(n(12),n(6)),o=n(1);function a(t,e){var n=Object(r.useRef)(),c=Object(r.useRef)([]),i=Object(r.useRef)(!1),h=Array.isArray(t);Object(r.useEffect)((function(){i.current||(i.current=!0),h?(e(t,c.current),t.forEach((function(t,e){c.current[e]=t}))):(e(t,n.current),n.current=t)}),h?t:[t])}var f=function(){var t=Object(r.useRef)(null),e=Object(r.useState)({width:30,height:30,x:10,y:120}),n=Object(o.a)(e,2),i=n[0],h=n[1],f=Object(r.useState)([{width:15,height:50,x:100,y:0},{width:15,height:50,x:100,y:220}]),l=Object(o.a)(f,2),s=l[0],d=l[1],w=Object(r.useState)(0),y=Object(o.a)(w,2),b=y[0],g=y[1],x=Object(r.useState)(!1),v=Object(o.a)(x,2),O=v[0],j=v[1],m=Object(r.useCallback)((function(t){switch(t.key){case"ArrowLeft":h((function(t){return{width:t.width,height:t.height,x:t.x-2,y:t.y}}));break;case"ArrowRight":h((function(t){return{width:t.width,height:t.height,x:t.x+2,y:t.y}}));break;case"ArrowUp":h((function(t){return{width:t.width,height:t.height,x:t.x,y:t.y-2}}));break;case"ArrowDown":h((function(t){return{width:t.width,height:t.height,x:t.x,y:t.y+2}}))}}),[]);Object(r.useEffect)((function(){return window.addEventListener("keydown",m),function(){window.removeEventListener("keydown",m)}}),[]);var E=function(t,e){var n=Object(r.useRef)();return[function(){n.current||(n.current=setInterval(t,e))},function(){clearInterval(n.current),n.current=null}]}((function(){g((function(t){return t+1}))}),20),k=Object(o.a)(E,2),p=k[0],R=k[1];return Object(r.useEffect)((function(){console.log("!!"),p()}),[]),a(b,(function(e){if(0===e||e/150%1===0){var n=t.current,r=n.width,c=n.height,i=Math.floor(181*Math.random()+20),h=Math.floor(151*Math.random()+50);d((function(t){var e=t[0].x+t[0].width<0?t.slice(2):t;return[].concat(Object(u.a)(e.map((function(t){return t.x+=-1,t}))),[{width:15,height:i,x:r,y:0},{width:15,height:c-i-h,x:r,y:i+h}])}))}else d((function(t){return(t[0].x+t[0].width<0?t.slice(2):t).map((function(t){return t.x+=-1,t}))}))})),a([i,s],(function(t){for(var e=Object(o.a)(t,2),n=e[0],r=e[1],c=n.x,i=n.x+n.width,h=n.y,u=n.y+n.height,a=0;a<r.length;a++){var f=r[a].x,l=r[a].x+r[a].width,s=r[a].y,d=r[a].y+r[a].height;u<s||h>d||i<f||c>l||j(!0)}})),a(O,(function(t){t&&(window.removeEventListener("keydown",m),R())})),Object(r.useEffect)((function(){if(t.current){var e=t.current,n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),n.fillStyle="red",n.fillRect(i.x,i.y,i.width,i.height);for(var r=0;r<s.length;r++)n.fillStyle="green",n.fillRect(s[r].x,s[r].y,s[r].width,s[r].height);n.fillStyle="black",n.font="30px Consolas",n.fillText("SCORE: "+b,20,40)}})),c.a.createElement("canvas",{ref:t,width:480,height:270,style:{border:"3px solid gray"}})};h.a.render(c.a.createElement(f,null),document.getElementById("root"))},7:function(t,e,n){t.exports=n(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.c02c07e8.chunk.js.map